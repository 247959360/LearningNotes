<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="app">
  </div>
  <script src="../dist/vue.js" type="text/javascript"></script>
  
  <script>
    let vm = new Vue({
      el: '#app',
      data() {
        return { name: 'sgjm', age: {age: {age: 20 }} }
      },
      computed: {
        // watch 在内部会对变量取值  即使不使用
        // computed特点
        // 1、默认在内部不会取值，2、computed依赖的值不变就不会重新执行，
        // 3、computed变量可以用于模版的渲染
        // 写法  只写了get
        // 或者写了 get和set
        allName() {
          // console.log("xxxxx")
          return this.name + '-' + this.age
        }
      },
      // 如果监控的key 对应的值是一个对象是无法获取老状态
      // 因为是一个饮用类型 新的改了，老的一定会瘦影响
      watch: {
        // certno: {
        //   handler: 'handler'
        // },
        // name(newValue, oldValue) {
        //   console.log(newValue, oldValue)
        //   // return newValue
        // },
        'age.age.age': {
          handler(newValue, oldValue) {
            console.log('newValue', newValue)
            console.log('oldValue', oldValue)
          },
          sync: true
        },
        // age: [
        //   {
        //     handler(newValue, oldValue) {
        //       console.log(newValue, oldValue)
        //     },
        //     sync: true // 这个参数加上 此时等于同步更新了
        //   },
        //   {
        //     handler(newValue, oldValue) {
        //       console.log(newValue, oldValue)
        //     },
        //     sync: true // 这个参数加上 此时等于同步更新了
        //   }
        // ]
      },
      methods: {
        handler(newValue, oldValue) {
          console.log(newValue, oldValue)
        }
      }
    })
    // vm.age = 100
  </script>
</body>

</html>